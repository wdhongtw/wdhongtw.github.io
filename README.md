Personal blog repository, using Hexo as static site generator,
and host by GitHub Pages.

## Branches

- `build`: all file needed for site generation, including source md pages.
- `master`: generated pages, created and update using git submodule

When a new post is created, and generated by Hexo, the whole `public` folder
will be updated. This repository use git submodule to split the `public`
folder into `master` branch.

## Usages

### Pull repo and use `build` branch.

``` sh
git clone -b build git@github.com:wdhongtw/wdhongtw.github.io.git
```

### Initialize: install package and update submodule

``` sh
npm install
git submodule init
git submodule update --resursive

cp theme_config.yml themes/$(THEME)/_config.yml
```

### Add new post and Deploy

Add new post.

``` sh
hexo new post <post_name>

editor source/_post/<post_name>.md
```

Generate site.

``` sh
hexo generate
```

Commit and push.

``` sh
git add source public
git commit -m "Update blog post(s)"
git push
git subtree push --prefix public origin master
```

